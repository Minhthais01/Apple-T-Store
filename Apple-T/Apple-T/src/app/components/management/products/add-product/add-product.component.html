<main>
  <div class="container">
      <div class="title">Add New Product</div>
      <div class="content">
        <form [formGroup]="productForm">
          <div class="user-details">
            <div class="input-box" [class.error]="productForm.controls['product_name'].dirty && productForm.hasError('required', 'product_name')">
              <span class="details">Product Name</span>
              <input formControlName="product_name" type="text" placeholder="Enter product name" required>
              <small *ngIf="productForm.controls['product_name'].dirty && productForm.hasError('required', 'product_name')" class="text-danger">*Product Name is required</small>
              <small *ngIf="productForm.controls['product_name'].hasError('pattern')" class="text-danger">*Minimum 2 and maximum 20 characters</small>
            </div>

            <div class="input-box" style="margin-top: 1px;" [class.error]="productForm.controls['product_brand'].dirty && productForm.hasError('required', 'product_brand')">
              <span class="details">Brand</span>
              <select formControlName="product_brand" (change)="onSelectBrand($event)" id="select-option" class="form-select form-select-lg mb-3" aria-label=".form-select-lg example" style="font-size: 16px;">
                <option selected>Choose Brand</option>
                <option *ngFor="let b of lstBrand">{{b.brand_name}}</option>
              </select>
              <small *ngIf="productForm.controls['product_brand'].dirty && productForm.hasError('required', 'product_brand')" class="text-danger">*Brand is required</small>
            </div>

            <div class="input-box"  [class.error]="productForm.controls['product_quantity'].dirty && productForm.hasError('required', 'product_quantity')">
              <span class="details">Quantity</span>
              <input formControlName="product_quantity" type="text" placeholder="Enter Quantity" >
              <small *ngIf="productForm.controls['product_quantity'].dirty && productForm.hasError('required', 'product_quantity')" class="text-danger">*Quantity is required</small>
              <small *ngIf="productForm.controls['product_quantity'].hasError('min')" class="text-danger">*The minimum quantity allowed is 1</small>
              <small *ngIf="productForm.controls['product_quantity'].hasError('max')" class="text-danger">*The maximum quantity allowed is 1000</small>
              <small *ngIf="productForm.controls['product_quantity'].hasError('pattern')" class="text-danger">*The data type of quantity is number</small>
            </div>

            <div class="input-box"  [class.error]="productForm.controls['product_originalPrice'].dirty && productForm.hasError('required', 'product_originalPrice')">
              <span class="details">Original Price</span>
              <input formControlName="product_originalPrice"  placeholder="Enter Original Price" required>
              <small *ngIf="productForm.controls['product_originalPrice'].dirty && productForm.hasError('required', 'product_originalPrice')" class="text-danger">*Original Price is required</small>
              <small *ngIf="productForm.controls['product_originalPrice'].hasError('min')" class="text-danger">*The Original Price allowed is 10$</small>
              <small *ngIf="productForm.controls['product_originalPrice'].hasError('max')" class="text-danger">*The Original Price allowed is 10000$</small>
              <small *ngIf="productForm.controls['product_originalPrice'].hasError('pattern')" class="text-danger">*The data type of quantity is number</small>
            </div>

            <div class="input-box"  [class.error]="productForm.controls['product_sellPrice'].dirty && productForm.hasError('required', 'product_sellPrice')">
              <span class="details">Sell Price</span>
              <input formControlName="product_sellPrice" placeholder="Enter Sell Price" required>
              <small *ngIf="productForm.controls['product_sellPrice'].dirty && productForm.hasError('required', 'product_sellPrice')" class="text-danger">*Sell Price is required</small>
              <small *ngIf="productForm.controls['product_sellPrice'].hasError('min')" class="text-danger">*The Original Price allowed is 10$</small>
              <small *ngIf="productForm.controls['product_sellPrice'].hasError('max')" class="text-danger">*The Original Price allowed is 10000$</small>
              <small *ngIf="productForm.controls['product_sellPrice'].hasError('pattern')" class="text-danger">*The data type of quantity is number</small>
            </div>

            <div class="input-box">
              <span class="details">Decription</span>
              <textarea formControlName="product_description" placeholder="Enter Description"></textarea>
              <small *ngIf="productForm.controls['product_description'].dirty && productForm.hasError('required', 'product_sellPrice')" class="text-danger">*Sell Price is required</small>
            </div>

            <div class="input-box">
              <span class="details">Upload Image</span>
              <input type="file" class="form-control" multiple (change)="uploadImage($event)">
              <img [src]="path" class="imageUpload">
            </div>
          </div>

          <div style="margin-top: 20px;">
            <a routerLink="/View-Product" class="text-body"><i class="fa-solid fa-arrow-left" style="margin-left: 5px;"></i>  Back</a>
          </div>

          <div class="button">
            <input (click)="addProduct()" type="submit" value="Save">
          </div>
        </form>
      </div>
    </div>
</main>
